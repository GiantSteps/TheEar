#N canvas 134 54 1280 746 10;
#X declare -path bin -path abstractions;
#X obj 76 713 declare -path bin -path abstractions;
#X obj 15 682 loadbang;
#X msg 15 701 \; pd dsp 1;
#X obj 145 69 adc~;
#X obj 93 137 vsl 15 128 0 127 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 9122 1;
#X obj 85 94 env~;
#X obj 673 379 mrpeach/udpsend;
#X msg 621 339 connect 1.2.3.4;
#X msg 721 339 send /data \$1 \$2 \$3 \$4 \$5;
#X obj 810 247 t b f;
#X obj 859 247 t b f;
#X obj 926 245 t b f;
#X obj 161 325 s mode;
#X obj 219 321 s key;
#X obj 724 217 r mode;
#X obj 767 217 r key;
#X obj 810 217 r noise;
#X obj 859 217 r centroid;
#X obj 926 217 r length;
#X obj 784 98 knob 60 60 0 1 0 0 noise nor noise 4 -8 0 14 -262144
-1 -1 0 1;
#X obj 878 97 knob 60 60 0 1 0 0 centroid nor centroid -10 -8 0 14
-262144 -1 -1 0 1;
#X obj 986 95 knob 60 60 0 1 0 0 centroid nor length -2 -8 0 14 -262144
-1 -1 0 1;
#X obj 927 329 r bpm;
#X obj 1158 189 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#N canvas 246 253 617 413 tap 0;
#X obj 195 139 timer;
#X floatatom 193 160 5 0 0 0 - - -;
#X obj 99 147 f;
#X obj 125 147 + 1;
#X floatatom 97 176 5 0 0 0 - - -;
#X obj 400 54 t b b b b;
#X msg 167 117 0;
#X obj 422 215 list;
#X obj 109 271 list;
#X obj 143 309 sum;
#X obj 109 290 list split 1;
#X obj 143 326 / 3;
#X obj 164 92 t b b;
#X obj 292 168 list prepend;
#X obj 164 69 delay 2000;
#X text 228 66 time to reset;
#X obj 401 22 inlet;
#X obj 143 345 outlet;
#X obj 109 211 sel 3 0;
#X obj 297 306 outlet;
#X msg 297 276 1;
#X msg 217 287 0;
#X obj 109 235 t b b b;
#X connect 0 0 1 0;
#X connect 0 0 13 0;
#X connect 2 0 3 0;
#X connect 2 0 4 0;
#X connect 2 0 18 0;
#X connect 3 0 2 1;
#X connect 5 0 14 0;
#X connect 5 1 2 0;
#X connect 5 2 0 0;
#X connect 5 3 0 1;
#X connect 6 0 2 1;
#X connect 7 0 13 1;
#X connect 8 0 10 0;
#X connect 9 0 11 0;
#X connect 10 1 9 0;
#X connect 11 0 17 0;
#X connect 12 0 6 0;
#X connect 12 1 13 1;
#X connect 13 0 7 0;
#X connect 13 0 8 1;
#X connect 14 0 12 0;
#X connect 16 0 5 0;
#X connect 18 0 22 0;
#X connect 18 1 20 0;
#X connect 20 0 19 0;
#X connect 21 0 19 0;
#X connect 22 0 8 0;
#X connect 22 1 21 0;
#X restore 1158 211 pd tap;
#X obj 1158 293 s bpm;
#X obj 1158 274 /;
#X obj 1146 231 t b f;
#X msg 1146 251 60000;
#X text 824 165 mode key noise centroid length bpm;
#X msg 927 349 send /bpm;
#X obj 1191 230 s analyze;
#X obj 930 488 \$1;
#X msg 930 468 bang;
#X msg 930 507 \; \$1-track const 0;
#X obj 1120 341 r bpm;
#X obj 1143 502 metro;
#X obj 1113 382 60000;
#X obj 1131 408 /;
#X obj 1123 361 t b f;
#X obj 1179 461 / 4;
#X obj 1129 482 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1
0 1;
#X obj 1129 462 delay;
#X obj 1143 521 s sixteenth;
#X obj 1131 428 t b f f b;
#X msg 1223 457 0;
#N canvas 576 23 1173 699 KeyDetect 1;
#X obj 224 21 inlet~;
#X symbolatom 153 654 10 0 0 0 - - -;
#X obj 120 311 essentiaRT2 SpectralWhitening;
#X obj 234 181 t l l;
#X obj 37 458 print 2;
#X obj 82 481 print 1;
#X obj 0 287 zl len;
#X floatatom -1 320 5 0 0 0 - - -;
#X obj 122 344 t b l;
#X obj 447 483 print;
#X obj 127 374 zl reg;
#X floatatom 245 521 5 0 0 0 - - -;
#X floatatom 267 489 5 0 0 0 - - -;
#X obj 231 617 gate;
#X obj 179 623 gate;
#X floatatom 280 520 5 0 0 0 - - -;
#X symbolatom 269 660 10 0 0 0 - - -;
#X obj 203 599 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X symbolatom 117 554 10 0 0 0 - - -;
#X floatatom 204 501 5 0 0 0 - - -;
#X obj 491 532 print;
#X obj 272 238 essentiaRT2 SpectralPeaks;
#X obj 178 265 t l l;
#X obj 219 581 ||;
#X obj 278 564 t b f;
#X obj 364 28 block~ 4096 1 1;
#X obj 255 100 essentiaRT2~ 2048 2048 Spectrum;
#X obj 245 545 > 0.5;
#X obj 195 529 > 1;
#X obj 188 459 essentiaRT2 Key;
#X obj 189 424 essentiaRT2 HPCP 10 1 size 36 referenceFrequency 440
_aggr mean;
#X obj 118 687 outlet;
#X obj 277 685 outlet;
#X obj 37 37;
#X connect 0 0 26 0;
#X connect 1 0 31 0;
#X connect 2 0 8 0;
#X connect 3 0 6 0;
#X connect 3 1 21 0;
#X connect 6 0 7 0;
#X connect 8 0 10 0;
#X connect 10 0 30 0;
#X connect 11 0 27 0;
#X connect 13 0 16 0;
#X connect 14 0 1 0;
#X connect 15 0 27 1;
#X connect 16 0 32 0;
#X connect 17 0 13 0;
#X connect 17 0 14 0;
#X connect 19 0 28 1;
#X connect 21 0 22 0;
#X connect 21 0 30 0;
#X connect 21 1 2 2;
#X connect 21 1 30 1;
#X connect 22 0 10 1;
#X connect 22 1 2 1;
#X connect 23 0 17 0;
#X connect 24 0 23 0;
#X connect 24 1 23 1;
#X connect 26 0 3 0;
#X connect 27 0 24 0;
#X connect 28 0 23 0;
#X connect 29 0 14 1;
#X connect 29 0 18 0;
#X connect 29 1 13 1;
#X connect 29 2 11 0;
#X connect 29 3 12 0;
#X connect 29 3 28 0;
#X connect 30 0 29 0;
#X restore 137 155 pd KeyDetect;
#X symbolatom 143 207 10 0 0 0 - - -;
#X symbolatom 212 207 10 0 0 0 - - -;
#X obj 721 320 pack s s f f f f;
#X obj 165 290 l;
#X obj 220 293 l;
#X obj 241 259 t b b;
#X obj 311 199 r bpm;
#X connect 1 0 2 0;
#X connect 3 0 5 0;
#X connect 3 0 46 0;
#X connect 3 1 46 0;
#X connect 5 0 4 0;
#X connect 7 0 6 0;
#X connect 8 0 6 0;
#X connect 9 0 49 0;
#X connect 9 1 49 2;
#X connect 10 0 49 0;
#X connect 10 1 49 3;
#X connect 11 0 49 0;
#X connect 11 1 49 4;
#X connect 14 0 49 0;
#X connect 15 0 49 1;
#X connect 16 0 9 0;
#X connect 17 0 10 0;
#X connect 18 0 11 0;
#X connect 22 0 30 0;
#X connect 23 0 24 0;
#X connect 24 0 27 0;
#X connect 24 1 31 0;
#X connect 26 0 25 0;
#X connect 27 0 28 0;
#X connect 27 1 26 1;
#X connect 28 0 26 0;
#X connect 30 0 6 0;
#X connect 32 0 34 0;
#X connect 33 0 32 0;
#X connect 35 0 39 0;
#X connect 36 0 43 0;
#X connect 37 0 38 0;
#X connect 38 0 44 0;
#X connect 39 0 37 0;
#X connect 39 1 38 1;
#X connect 40 0 36 1;
#X connect 41 0 36 0;
#X connect 42 0 41 0;
#X connect 44 0 42 0;
#X connect 44 1 42 1;
#X connect 44 2 40 0;
#X connect 44 3 45 0;
#X connect 45 0 41 0;
#X connect 46 0 47 0;
#X connect 46 1 48 0;
#X connect 47 0 51 1;
#X connect 48 0 50 1;
#X connect 49 0 8 0;
#X connect 50 0 12 0;
#X connect 51 0 13 0;
#X connect 52 0 50 0;
#X connect 52 1 51 0;
#X connect 53 0 52 0;
